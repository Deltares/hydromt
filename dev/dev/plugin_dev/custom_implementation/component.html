
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Custom Components &#8212; HydroMT  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/theme-deltares.css?v=d7afb10b" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'dev/plugin_dev/custom_implementation/component';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/Deltares/hydromt/gh-pages/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.3.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../../_static/hydromt-icon.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Custom Data Catalogs" href="catalog.html" />
    <link rel="prev" title="Custom Models" href="model.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.3.0.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../../_static/hydromt-icon.svg" class="logo__image only-light" alt=""/>
    <img src="../../../_static/hydromt-icon.svg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">HydroMT Core</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../about/intro.html">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../overview/intro.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../user_guide/intro.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../intro.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/api.html">
    API
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../changelog.html">
    What's new
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../about/intro.html">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../overview/intro.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../user_guide/intro.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../intro.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../changelog.html">
    What's new
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../architecture/index.html">HydroMT Architecture</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/conventions.html">HydroMT Design Conventions</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Plugin Developer Guide</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html">Starting Your Own HydroMT Plugin</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Implement your own HydroMT objects</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="model.html">Custom Models</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Custom Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="catalog.html">Custom Data Catalogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_source.html">Custom Data Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="driver.html">Custom Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="resolver.html">Custom Resolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_adapter.html">Custom DataAdapter</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../register.html">Linking your own custom objects to HydroMT core API</a></li>

<li class="toctree-l2"><a class="reference internal" href="../testing.html">Testing your plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migrating_to_v1.html">Migrating to v1</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../core_dev/index.html">Core Developer Guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../core_dev/dev_install.html">Developer installation guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_dev/git_conventions.html">Issue conventions</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../core_dev/code_conventions.html">Code conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_dev/documentation.html">Adding Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_dev/test_ci.html">Test and CI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_dev/release.html">Creating a release</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../intro.html" class="nav-link">Developer Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Plugin Developer Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Examples: Extending HydroMT</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Custom Components</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="custom-components">
<span id="custom-component"></span><h1>Custom Components<a class="headerlink" href="#custom-components" title="Link to this heading">#</a></h1>
<p>Components are the building blocks of a HydroMT model.
Each component is responsible for handling a specific aspect of the model, such as the grid,
configuration, mesh, rivers, catchments, pipes, or any custom behavior your plugin might require.</p>
<p>Because a component has a read and write method, it is then typically associated
with a specific model file.</p>
<p>Components encapsulate logic, data, and workflows in a reusable manner, and can interact with other components through the model instance.</p>
<section id="implementing-a-component">
<h2>Implementing a Component<a class="headerlink" href="#implementing-a-component" title="Link to this heading">#</a></h2>
<section id="initialization">
<h3>Initialization<a class="headerlink" href="#initialization" title="Link to this heading">#</a></h3>
<p>HydroMT defines two main types of components:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ModelComponent</span></code> - handles general model data and logic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialModelComponent</span></code> - extends <code class="docutils literal notranslate"><span class="pre">ModelComponent</span></code> to hold spatial data. A model
<strong>must</strong> include at least one <code class="docutils literal notranslate"><span class="pre">SpatialModelComponent</span></code> for region-related functionality to work correctly.</p></li>
</ul>
<p>All components receive a reference to the parent model at initialization, allowing access to other components as needed.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">hydromt.model</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydromt.model.components</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelComponent</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ExampleConfigComponent</span><span class="p">(</span><span class="n">ModelComponent</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">Model</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;config.toml&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">filename</span></code> property is essential because components are <strong>lazy-loaded</strong> by default.
Data is only loaded when needed, so this property defines where the component reads from or writes to.</p>
</section>
<section id="spatial-components">
<h3>Spatial Components<a class="headerlink" href="#spatial-components" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SpatialModelComponent</span></code> requires additional information at initialization. This is because they
may derive their region from another spatial component rather than having their own.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ExampleGridComponent</span><span class="p">(</span><span class="n">SpatialModelComponent</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">model</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">region_component</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;grid.nc&quot;</span><span class="p">,</span>
        <span class="n">region_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;grid_region.geojson&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">region_component</span></code> indicates which component provides the reference region
(eg forcing grid may use the definition of the static grid component). Not needed if this component itself defines the region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">region_filename</span></code> defines where region data should be stored if applicable.</p></li>
</ul>
</section>
<section id="required-attributes-and-functions">
<h3>Required Attributes and Functions<a class="headerlink" href="#required-attributes-and-functions" title="Link to this heading">#</a></h3>
<p>Components will by default inherit the following from their base classes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code> - reference to the parent model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data_catalog</span></code> - access to datasets through HydroMT’s catalog system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">root</span></code> - model root directory for storing files</p></li>
</ul>
<p>Components are expected to define the following attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> - holds the actual component data (DataFrame, xarray.Dataset, etc.)</p></li>
</ul>
<p>Key functions include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read()</span></code> - reading the component and its data from disk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write()</span></code> - save the component’s data to disk</p></li>
</ul>
<p>Optional functions for enhanced workflows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set()</span></code> - update or overwrite the component’s data programmatically. Not usually exposed in YAML workflows.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_initialize()</span></code> - initializing an empty component.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_equal()</span></code> - verify that two components (including data) are identical. Useful for unit tests.</p></li>
</ul>
<p>Finally, you can provide additional functionality by providing the following optional functions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">create</span></code>: the ability to construct the schematization of the component from the provided arguments.
e.g. computation units like grid cells, mesh1d or network lines, vector units for lumped model etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_data</span></code>: the ability to transform and add model data and parameters to the component once the
schematization is well-defined (i.e. add land-use data to grid or mesh etc.).</p></li>
</ul>
<p>Functions annotated with <code class="docutils literal notranslate"><span class="pre">&#64;hydromt_step</span></code> are <strong>exposed to YAML workflows</strong>, allowing users to call them as workflow steps.</p>
<p>Additionally, we encourage some best practices to be aware of when implementing a components:</p>
<ul class="simple">
<li><p>Make sure that your component calls <code class="docutils literal notranslate"><span class="pre">super().__init__(model=model)</span></code> in the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function
of your component. This will make sure that references such as <code class="docutils literal notranslate"><span class="pre">self.root</span></code> and <code class="docutils literal notranslate"><span class="pre">self.region</span></code> are
registered properly so you can access them.</p></li>
<li><p>Your component should take some variation of a <code class="docutils literal notranslate"><span class="pre">filename</span></code> argument in its <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function that
is either required or provides a default that is not <cite>None</cite>. This should be saved as an attribute
and be used for reading and writing when the user does not provide a different path as an argument
to the read or write functions. This allows developers, plugin developers and users alike to both
provide sensible defaults as well as the opportunity to overwrite them when necessary.</p></li>
</ul>
</section>
<section id="usage-tips">
<h3>Usage Tips<a class="headerlink" href="#usage-tips" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Always define <code class="docutils literal notranslate"><span class="pre">_filename</span></code> or <code class="docutils literal notranslate"><span class="pre">region_filename</span></code> for proper lazy loading.</p></li>
<li><p>Keep components modular and self-contained.</p></li>
<li><p>Use adapters or transformations when interacting with external datasets.</p></li>
<li><p>Test spatial components carefully to ensure regions are consistent with the model structure.</p></li>
<li><p>Annotate functions with <code class="docutils literal notranslate"><span class="pre">&#64;hydromt_step</span></code> only if they are workflow-relevant.</p></li>
</ul>
</section>
<section id="example-workflow-step">
<h3>Example Workflow Step<a class="headerlink" href="#example-workflow-step" title="Link to this heading">#</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">steps</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">config.update</span><span class="p">:</span>
<span class="w">      </span><span class="nt">starttime</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-01-01T00:00:00&quot;</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grid.setup_landuse</span><span class="p">:</span>
<span class="w">      </span><span class="nt">landuse</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_landuse.tif&quot;</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="model.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Custom Models</p>
      </div>
    </a>
    <a class="right-next"
       href="catalog.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Custom Data Catalogs</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>

  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementing-a-component">Implementing a Component</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialization">Initialization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spatial-components">Spatial Components</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#required-attributes-and-functions">Required Attributes and Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#usage-tips">Usage Tips</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-workflow-step">Example Workflow Step</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Deltares.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>