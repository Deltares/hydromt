
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Preparing a model configuration &#8212; HydroMT  documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-deltares.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Defining a model region" href="model_region.html" />
    <link rel="prev" title="Clipping a model" href="model_clip.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/hydromt-logo.jpg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/hydromt-logo.jpg" class="logo__image only-dark" alt="Logo image">
  
  
    <p class="title logo__title">HydroMT Core</p>
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started/intro.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="intro.html">
  User guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../dev/intro.html">
  Developments
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../plugins.html">
  Plugins
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Deltares/hydromt" rel="noopener" target="_blank" title="GitHub"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.deltares.nl/en/" rel="noopener" target="_blank" title="Deltares"><img src="../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Table of Contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="data_main.html">
   Working with data in HydroMT
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="data_prepare_cat.html">
     Preparing a Data Catalog
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_types.html">
     Supported data types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_existing_cat.html">
     Pre-defined data catalogs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_conventions.html">
     Data conventions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_examples/reading_raster_data.html">
     Example: Reading raster data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_examples/reading_vector_data.html">
     Example: Reading vector data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="model_main.html">
   Working with models in HydroMT
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="model_build.html">
     Building a model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="model_update.html">
     Updating a model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="model_clip.html">
     Clipping a model
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Preparing a model configuration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="model_region.html">
     Defining a model region
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="methods_main.html">
   Methods and workflows
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../_examples/delineate_basin.html">
     Example: Delineating basins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_examples/working_with_raster.html">
     Example: Working with raster data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="methods_stats.html">
     Statistical methods
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-configuration-ini-file">
   Model configuration (.ini) file
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/Deltares/hydromt/edit/main/docs/user_guide/model_config.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="preparing-a-model-configuration">
<span id="model-config"></span><h1>Preparing a model configuration<a class="headerlink" href="#preparing-a-model-configuration" title="Permalink to this heading">#</a></h1>
<p>A user can define a complete pipeline of methods and their options to <a class="reference internal" href="model_build.html#model-build"><span class="std std-ref">build a model</span></a> or <a class="reference internal" href="model_update.html#model-update"><span class="std std-ref">updating an existing model</span></a>
in the configuration <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">.ini file</a></p>
<p><strong>Steps in brief:</strong></p>
<ol class="arabic simple">
<li><p>Start with a template of the <a class="reference internal" href="../plugins.html#plugins"><span class="std std-ref">HydroMT model plugin</span></a> with which you want to build / update a model. Templates can be found in the online documentation of each model plugin.</p></li>
<li><p>Edit / add / remove sections (i.e. methods) based on which components you want to build or adapt. The arguments of specific methods can be found in the API chapter in the online documentation of each model plugin.</p></li>
<li><p>Save the configuration file and use it in combination with the HydroMT <a class="reference internal" href="model_build.html#model-build"><span class="std std-ref">build</span></a> and <a class="reference internal" href="model_update.html#model-update"><span class="std std-ref">update</span></a> methods.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The HydroMT model configuration (.ini) file should not be confused with the simulation configuration file of the model kernel.
While the first defines how HydroMT should build or update a model, the latter defines the simulation for the model kernel.
The format of the latter differs with each plugin, but can be accessed in HydroMT trough the <a class="reference internal" href="../_generated/hydromt.Model.config.html#hydromt.Model.config" title="hydromt.Model.config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hydromt.Model.config()</span></code></a> component.</p>
</div>
<section id="model-configuration-ini-file">
<h2>Model configuration (.ini) file<a class="headerlink" href="#model-configuration-ini-file" title="Permalink to this heading">#</a></h2>
<p>The .ini file has a simple syntax with sections and key-value pairs. In HydroMT sections corresponds with model methods
and the key-value pair with the arguments of each method. For available methods and their arguments of a specific model,
please visit the <a class="reference internal" href="../plugins.html#plugins"><span class="std std-ref">plugin documentation pages</span></a>.
When passed to the build or update CLI methods, HydroMT executes all methods in order as provided in the .ini file.
As such the .ini file, in combination with a data catalog yaml file
define a <strong>reproducible</strong> model.</p>
<p>HydroMT configuration file specifications and conventions:</p>
<ul class="simple">
<li><p>HydroMT will execute each method (i.e. section) in the order it is provided in the .ini file.</p></li>
<li><p>Methods can be re-used by enumerating the methods by adding a number to the end (without underscore or space!).
Although this is not enforced in the code, by convention we start enumerating the second call of each method with a number 2, the third call with a number 3 etc.</p></li>
<li><p>Arguments ending with <code class="docutils literal notranslate"><span class="pre">_fn</span></code> (short for filename) are by convention used to set a data source from the data catalog based on its source name, see <a class="reference internal" href="data_main.html#get-data"><span class="std std-ref">Working with data in HydroMT</span></a>.</p></li>
</ul>
<p>An example .ini file is shown below. Note that this .ini file does not apply to any supported model plugin.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[setup_basemaps]</span><span class="w"></span>
<span class="na">topography_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">merit   # source name of topography data</span><span class="w"></span>
<span class="na">crs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4326              # CRS EPSG code</span><span class="w"></span>
<span class="na">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">100               # resolution [m]</span><span class="w"></span>

<span class="k">[setup_manning_roughness]</span><span class="w"></span>
<span class="na">lulc_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">globcover             # source name of landuse-landcover data</span><span class="w"></span>
<span class="na">mapping_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">globcover_mapping  # source name of mapping table converting lulc classes to N values</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="model_clip.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Clipping a model</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="model_region.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Defining a model region</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright Deltares.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>